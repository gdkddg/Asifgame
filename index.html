<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ¸ Pink Flappy Adventure ğŸŒ¸</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(45deg, #FFB6C1, #FF69B4, #FF1493, #FFC0CB);
            background-size: 400% 400%;
            animation: rainbowPink 12s ease infinite, backgroundMove 15s linear infinite;
            font-family: 'Arial', sans-serif;
        }

        @keyframes rainbowPink {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes backgroundMove {
            0% { background-position: 0 0; }
            100% { background-position: 100% 100%; }
        }

        #gameCanvas {
            border: 4px solid #FF1493;
            border-radius: 20px;
            box-shadow: 0 0 30px rgba(255, 20, 147, 0.8), inset 0 0 20px rgba(255, 255, 255, 0.2);
            background: radial-gradient(circle, #FFE4E1, transparent);
            display: none; /* Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ ÛÙˆÙ†Û’ Ø³Û’ Ù¾ÛÙ„Û’ Ú†Ú¾Ù¾Ø§ ÛÙˆØ§ */
        }

        #gameOverScreen {
            position: absolute;
            background: linear-gradient(45deg, #FF69B4, #FFB6C1);
            color: #FF1493;
            font-family: Arial, sans-serif;
            font-size: 34px;
            font-weight: bold;
            text-align: center;
            text-shadow: 3px 3px 6px rgba(255,255,255,0.8);
            width: 400px;
            height: 600px;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: fadeInBig 0.6s ease-in, sparkle 2s infinite;
            border-radius: 20px;
            box-shadow: 0 0 40px rgba(255, 105, 180, 0.9);
        }

        #startScreen {
            position: absolute;
            width: 400px;
            height: 600px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #startImage {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.9);
            animation: fadeInOut 2s ease-in-out infinite alternate, scalePulse 2s ease-in-out infinite;
            object-fit: cover;
        }

        #playButton {
            margin-top: 20px;
            padding: 15px 30px;
            font-size: 24px;
            font-weight: bold;
            color: #FF1493;
            background: linear-gradient(45deg, #FFB6C1, #FF69B4);
            border: 3px solid #FF1493;
            border-radius: 15px;
            cursor: pointer;
            text-shadow: 1px 1px 3px rgba(255,255,255,0.8);
            box-shadow: 0 0 15px rgba(255, 20, 147, 0.7);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        #playButton:hover {
            transform: scale(1.1);
            box-shadow: 0 0 25px rgba(255, 20, 147, 1);
        }

        @keyframes fadeInBig {
            0% { opacity: 0; transform: scale(0.7) rotate(-5deg); }
            100% { opacity: 1; transform: scale(1) rotate(0deg); }
        }

        @keyframes sparkle {
            0%, 100% { box-shadow: 0 0 40px rgba(255, 105, 180, 0.9); }
            50% { box-shadow: 0 0 60px rgba(255, 20, 147, 1); }
        }

        @keyframes fadeInOut {
            0% { opacity: 0.6; }
            100% { opacity: 1; }
        }

        @keyframes scalePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .emoji { font-size: 40px; margin: 10px; }
    </style>
</head>
<body>
    <!-- Ú¯ÛŒÙ… Ú©Ø§ Ú©ÛŒÙ†ÙˆØ³ Ø¬ÛØ§Úº Ú¯ÛŒÙ… Ù¾Ù„Û’ ÛÙˆØªØ§ ÛÛ’ -->
    <canvas id="gameCanvas" width="400" height="600"></canvas>
    <!-- Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ø³Ú©Ø±ÛŒÙ† Ø¬Ùˆ Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ ÛÙˆÙ†Û’ Ø³Û’ Ù¾ÛÙ„Û’ Ø¯Ú©Ú¾ØªÛŒ ÛÛ’ -->
    <div id="startScreen">
        <img id="startImage" src="pho.png" alt="Start Image">
        <button id="playButton">Play Game âœ¨</button>
    </div>
    <!-- Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø§Ø³Ú©Ø±ÛŒÙ† Ø¬Ùˆ Ú¯ÛŒÙ… Ø®ØªÙ… ÛÙˆÙ†Û’ Ù¾Ø± Ø¯Ú©Ú¾ØªÛŒ ÛÛ’ -->
    <div id="gameOverScreen">
        <div class="emoji">WALEED KHAN</div>
        <div>ğŸ® Game Over! ğŸ®</div>
        <div>Score: <span id="finalScore" style="color: #FF1493; font-size: 42px; text-shadow: 0 0 10px #FFB6C1;">0</span> â­â­â­</div>
        <div>Click to Play Again! âœ¨</div>
        <div class="emoji">ğŸŒ¸</div>
    </div>
    <!-- Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© (bag.mp3) Ú¯ÛŒÙ… Ú©Û’ Ø¯ÙˆØ±Ø§Ù† Ú†Ù„ØªØ§ ÛÛ’ -->
    <audio id="backgroundMusic" src="bag.mp3" loop preload="auto"></audio>
    <!-- Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ (sound.mp3) Ø¬Ùˆ Ø§ÛŒÚ© Ø¨Ø§Ø± Ú†Ù„ØªØ§ ÛÛ’ -->
    <audio id="gameOverSound" src="sound.mp3" preload="auto"></audio>

    <script>
        // Ú©ÛŒÙ†ÙˆØ³ Ø§ÙˆØ± Ø§Ø³ Ú©Ø§ 2D Ø³ÛŒØ§Ù‚ Ùˆ Ø³Ø¨Ø§Ù‚ (context) Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const startScreen = document.getElementById('startScreen');
        const startImage = document.getElementById('startImage');
        const playButton = document.getElementById('playButton');
        const finalScoreElement = document.getElementById('finalScore');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const gameOverSound = document.getElementById('gameOverSound');

        // Ø³Ø§Ø¤Ù†Úˆ Ø³ÛŒÙ¹Ù†Ú¯Ø²
        backgroundMusic.volume = 0.2; // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© Ú©ÛŒ Ø¢ÙˆØ§Ø² Ú©Ù…
        gameOverSound.volume = 0.6;   // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ Ú©ÛŒ Ù†Ø§Ø±Ù…Ù„ Ø¢ÙˆØ§Ø²
        let musicStarted = false;     // Ú†ÛŒÚ© Ú©Ø±ØªØ§ ÛÛ’ Ú©Û Ù…ÛŒÙˆØ²Ú© Ø´Ø±ÙˆØ¹ ÛÙˆØ§ ÛŒØ§ Ù†ÛÛŒÚº
        let gameOverSoundPlayed = false; // Ú†ÛŒÚ© Ú©Ø±ØªØ§ ÛÛ’ Ú©Û Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ Ø§ÛŒÚ© Ø¨Ø§Ø± Ú†Ù„Ø§
        let gameStarted = false;      // Ú†ÛŒÚ© Ú©Ø±ØªØ§ ÛÛ’ Ú©Û Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ ÛÙˆØ¦ÛŒ ÛŒØ§ Ù†ÛÛŒÚº

        // ØªØµØ§ÙˆÛŒØ± Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº
        const birdImg = new Image();
        birdImg.src = 'hlhl.png';
        const startImages = ['phoo.png', 'phooo.png']; // Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ø³Ú©Ø±ÛŒÙ† Ú©ÛŒ ØªØµØ§ÙˆÛŒØ±
        let currentImageIndex = 0; // Ù…ÙˆØ¬ÙˆØ¯Û ØªØµÙˆÛŒØ± Ú©Ø§ Ø§Ù†ÚˆÛŒÚ©Ø³

        // Ú¯ÛŒÙ… Ú©Û’ Ù…ØªØºÛŒØ±Ø§Øª
        let birdX = 100;              // Ø¨Ø±Úˆ Ú©ÛŒ Ø§ÙÙ‚ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù†
        let birdY = canvas.height / 2; // Ø¨Ø±Úˆ Ú©ÛŒ Ø¹Ù…ÙˆØ¯ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù†
        let birdVelocity = 0;         // Ø¨Ø±Úˆ Ú©ÛŒ Ø¹Ù…ÙˆØ¯ÛŒ Ø±ÙØªØ§Ø±
        const gravity = 0.15;         // Ú¯Ø±ÛŒÙˆÛŒÙ¹ÛŒ (Ø¢Ø³Ø§Ù† Ú¯ÛŒÙ… Ú©Û’ Ù„ÛŒÛ’ Ú©Ù…)
        const jump = -3;              // Ø¬Ù…Ù¾ Ú©ÛŒ Ø·Ø§Ù‚Øª (Ø§ÙˆÙ¾Ø± Ø¬Ø§Ù†Û’ Ú©ÛŒ Ø±ÙØªØ§Ø±)
        let pipes = [];               // Ù¾Ø§Ø¦Ù¾Ø³ Ú©ÛŒ ÙÛØ±Ø³Øª
        let score = 0;                // Ú©Ú¾Ù„Ø§Ú‘ÛŒ Ú©Ø§ Ø§Ø³Ú©ÙˆØ±
        let gameOver = false;         // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± ÛÙˆÙ†Û’ Ú©Ø§ Ú†ÛŒÚ©
        let rotation = 0;             // Ø¨Ø±Úˆ Ú©ÛŒ Ú¯Ú¾ÙˆÙ…Ù†Û’ Ú©ÛŒ Ø²Ø§ÙˆÛŒÛ
        let stars = [];               // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÚº Ú†Ù…Ú©ØªÛ’ Ø³ØªØ§Ø±ÙˆÚº Ú©ÛŒ ÙÛØ±Ø³Øª
        let frameCount = 0;           // ÙØ±ÛŒÙ… Ú©Ø§Ø¤Ù†Ù¹Ø± (Ø§ÛŒÙ†ÛŒÙ…ÛŒØ´Ù† Ú©Û’ Ù„ÛŒÛ’)

        // Ú¯ÛŒÙ… Ú©ÛŒ Ø¢Ø³Ø§Ù† Ø³ÛŒÙ¹Ù†Ú¯Ø²
        const pipeWidth = 50;         // Ù¾Ø§Ø¦Ù¾ Ú©ÛŒ Ú†ÙˆÚ‘Ø§Ø¦ÛŒ
        const pipeGap = 250;          // Ù¾Ø§Ø¦Ù¾Ø³ Ú©Û’ Ø¯Ø±Ù…ÛŒØ§Ù† ÙØ§ØµÙ„Û (Ø¢Ø³Ø§Ù† Ú¯ÛŒÙ… Ú©Û’ Ù„ÛŒÛ’ Ø¨Ú‘Ø§)
        let pipeSpeed = 1.2;          // Ù¾Ø§Ø¦Ù¾Ø³ Ú©ÛŒ Ø±ÙØªØ§Ø± (Ø¢ÛØ³ØªÛ)
        let pipeFrequency = 150;      // Ù†Ø¦Û’ Ù¾Ø§Ø¦Ù¾ Ø¨Ù†Ù†Û’ Ú©Ø§ ÙˆÙ‚ÙÛ
        const bird = { width: 65, height: 65, radius: 32 }; // Ø¨Ø±Úˆ Ú©Ø§ Ø³Ø§Ø¦Ø² Ø§ÙˆØ± Ø±Ø¯Ø§Ø³

        // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÚº Ú†Ù…Ú©ØªÛ’ Ø³ØªØ§Ø±ÙˆÚº Ú©Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº
        function initStars() {
            stars = [];
            for (let i = 0; i < 20; i++) {
                stars.push({
                    x: Math.random() * canvas.width, // Ø±ÛŒÙ†ÚˆÙ… Ø§ÙÙ‚ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù†
                    y: Math.random() * canvas.height, // Ø±ÛŒÙ†ÚˆÙ… Ø¹Ù…ÙˆØ¯ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù†
                    size: Math.random() * 3 + 1,     // Ø±ÛŒÙ†ÚˆÙ… Ø³Ø§Ø¦Ø²
                    speed: Math.random() * 0.5 + 0.2 // Ø±ÛŒÙ†ÚˆÙ… Ø±ÙØªØ§Ø±
                });
            }
        }

        // Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ø³Ú©Ø±ÛŒÙ† Ú©ÛŒ ØªØµØ§ÙˆÛŒØ± Ú©Ùˆ ÛØ± 2 Ø³ÛŒÚ©Ù†Úˆ Ø¨Ø¹Ø¯ ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº
        function changeStartImage() {
            currentImageIndex = (currentImageIndex + 1) % startImages.length; // Ø§Ú¯Ù„ÛŒ ØªØµÙˆÛŒØ±
            startImage.src = startImages[currentImageIndex]; // ØªØµÙˆÛŒØ± ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº
        }

        // ÛØ± 2 Ø³ÛŒÚ©Ù†Úˆ Ø¨Ø¹Ø¯ ØªØµÙˆÛŒØ± ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚº
        setInterval(changeStartImage, 2000);

        // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº
        function startBackgroundMusic() {
            if (!musicStarted) {
                backgroundMusic.play().then(() => {
                    musicStarted = true;
                    console.log('ğŸµ Background music started!');
                }).catch(e => {
                    console.log('Music will start on first jump');
                });
            }
        }

        // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© Ø±ÙˆÚ©ÛŒÚº
        function pauseBackgroundMusic() {
            backgroundMusic.pause();
        }

        // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº
        function resumeBackgroundMusic() {
            if (musicStarted) {
                backgroundMusic.play().catch(() => {});
            }
        }

        // "Play Game" Ø¨Ù¹Ù† Ù¾Ø± Ú©Ù„Ú© ÛÛŒÙ†ÚˆÙ„Ø±
        playButton.addEventListener('click', () => {
            startScreen.style.display = 'none'; // Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ø³Ú©Ø±ÛŒÙ† Ú†Ú¾Ù¾Ø§Ø¦ÛŒÚº
            canvas.style.display = 'block';    // Ú©ÛŒÙ†ÙˆØ³ Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº
            gameStarted = true;                // Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹
            startBackgroundMusic();            // Ù…ÛŒÙˆØ²Ú© Ø´Ø±ÙˆØ¹
            gameLoop();                        // Ú¯ÛŒÙ… Ù„ÙˆÙ¾ Ø´Ø±ÙˆØ¹
        });

        // Ú©Ù„Ú© Ø§ÛŒÙˆÙ†Ù¹: Ø¬Ù…Ù¾ ÛŒØ§ Ø±ÛŒØ³Ù¹Ø§Ø±Ù¹
        document.addEventListener('click', () => {
            if (gameStarted && !gameOver) {
                birdVelocity = jump; // Ø¨Ø±Úˆ Ú©Ùˆ Ø§ÙˆÙ¾Ø± Ø§Ù¹Ú¾Ø§Ø¦ÛŒÚº
            } else if (gameOver) {
                restartGame(); // Ú¯ÛŒÙ… Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº
            }
        });

        // Ú¯ÛŒÙ… Ú©Ùˆ Ø±ÛŒØ³Ù¹Ø§Ø±Ù¹ Ú©Ø±ÛŒÚº
        function restartGame() {
            birdY = canvas.height / 2; // Ø¨Ø±Úˆ Ú©ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù† Ø¯ÙˆØ¨Ø§Ø±Û Ø¨ÛŒÚ† Ù…ÛŒÚº
            birdVelocity = 0;          // Ø±ÙØªØ§Ø± ØµÙØ±
            rotation = 0;              // Ú¯Ú¾ÙˆÙ…Ù†Ø§ ØµÙØ±
            pipes = [];                // Ù¾Ø§Ø¦Ù¾Ø³ Ø®Ø§Ù„ÛŒ
            score = 0;                 // Ø§Ø³Ú©ÙˆØ± ØµÙØ±
            gameOver = false;          // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø®ØªÙ…
            gameOverSoundPlayed = false; // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ Ø¯ÙˆØ¨Ø§Ø±Û Ú†Ù„Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªÛŒØ§Ø±
            pipeSpeed = 1.2;           // Ù¾Ø§Ø¦Ù¾ Ú©ÛŒ Ø±ÙØªØ§Ø± Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹
            gameOverScreen.style.display = 'none'; // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø§Ø³Ú©Ø±ÛŒÙ† Ú†Ú¾Ù¾Ø§Ø¦ÛŒÚº
            resumeBackgroundMusic();   // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÙˆØ²Ú© Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹
            initStars();               // Ø³ØªØ§Ø±Û’ Ø¯ÙˆØ¨Ø§Ø±Û Ø¨Ù†Ø§Ø¦ÛŒÚº
            
        gameOverSound.pause();     // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ Ø¨Ù†Ø¯ Ú©Ø±ÛŒÚº
    gameOverSound.currentTime = 0; // Ø³Ø§Ø¤Ù†Úˆ Ú©Ø§ Ù¹Ø§Ø¦Ù… Ø±ÛŒ Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚº
}

        // Ù†ÛŒØ§ Ù¾Ø§Ø¦Ù¾ Ø¨Ù†Ø§Ø¦ÛŒÚº
        function createPipe() {
            const minHeight = 60;
            const maxHeight = canvas.height - pipeGap - minHeight;
            const pipeHeight = Math.floor(Math.random() * (maxHeight - minHeight)) + minHeight;
            pipes.push({
                x: canvas.width,      // Ù¾Ø§Ø¦Ù¾ Ø¯Ø§Ø¦ÛŒÚº Ø·Ø±Ù Ø³Û’ Ø´Ø±ÙˆØ¹
                topHeight: pipeHeight, // Ø§ÙˆÙ¾Ø± ÙˆØ§Ù„Û’ Ù¾Ø§Ø¦Ù¾ Ú©ÛŒ Ø§ÙˆÙ†Ú†Ø§Ø¦ÛŒ
                bottomY: pipeHeight + pipeGap, // Ù†ÛŒÚ†Û’ ÙˆØ§Ù„Û’ Ù¾Ø§Ø¦Ù¾ Ú©ÛŒ Ø´Ø±ÙˆØ¹Ø§Øª
                scored: false         // Ø§Ø³Ú©ÙˆØ± Ú©ÛŒØ§ ÛŒØ§ Ù†ÛÛŒÚº
            });
        }

        // ØªØµØ§Ø¯Ù… (collision) Ú†ÛŒÚ© Ú©Ø±ÛŒÚº
        function checkCollision() {
            // Ø§Ú¯Ø± Ø¨Ø±Úˆ Ø²Ù…ÛŒÙ† ÛŒØ§ Ú†Ú¾Øª Ø³Û’ Ù¹Ú©Ø±Ø§Ø¦Û’
            if (birdY + bird.radius > canvas.height - 20 || birdY - bird.radius < 20) {
                return true;
            }
            // Ø§Ú¯Ø± Ø¨Ø±Úˆ Ù¾Ø§Ø¦Ù¾ Ø³Û’ Ù¹Ú©Ø±Ø§Ø¦Û’
            for (let pipe of pipes) {
                if (birdX + bird.radius > pipe.x && birdX - bird.radius < pipe.x + pipeWidth) {
                    if (birdY - bird.radius < pipe.topHeight || birdY + bird.radius > pipe.bottomY) {
                        return true;
                    }
                }
            }
            return false;
        }

        // Ù¾Ø§Ø¦Ù¾ ÚˆØ±Ø§ Ú©Ø±ÛŒÚº
        function drawPipe(x, topHeight, bottomY) {
            const gradient = ctx.createLinearGradient(x, 0, x + pipeWidth, 0);
            gradient.addColorStop(0, '#FF69B4');
            gradient.addColorStop(0.5, '#FF1493');
            gradient.addColorStop(1, '#FFB6C1');
            ctx.fillStyle = gradient;

            ctx.fillRect(x, 0, pipeWidth, topHeight); // Ø§ÙˆÙ¾Ø± ÙˆØ§Ù„Ø§ Ù¾Ø§Ø¦Ù¾
            ctx.fillRect(x, bottomY, pipeWidth, canvas.height - bottomY); // Ù†ÛŒÚ†Û’ ÙˆØ§Ù„Ø§ Ù¾Ø§Ø¦Ù¾

            ctx.strokeStyle = '#FF1493';
            ctx.lineWidth = 5;
            ctx.shadowColor = '#FFB6C1';
            ctx.shadowBlur = 8;
            ctx.beginPath();
            ctx.rect(x, 0, pipeWidth, topHeight);
            ctx.stroke();
            ctx.beginPath();
            ctx.rect(x, bottomY, pipeWidth, canvas.height - bottomY);
            ctx.stroke();
            ctx.shadowBlur = 0;

            ctx.fillStyle = '#FF1493';
            ctx.shadowColor = '#FFB6C1';
            ctx.shadowBlur = 12;
            ctx.fillRect(x - 8, topHeight - 25, pipeWidth + 16, 25); // Ø§ÙˆÙ¾Ø± Ú©ÛŒ Ú©ÛŒÙ¾
            ctx.fillRect(x - 8, bottomY, pipeWidth + 16, 25); // Ù†ÛŒÚ†Û’ Ú©ÛŒ Ú©ÛŒÙ¾
            ctx.shadowBlur = 0;
        }

        // Ø¨ÛŒÚ© Ú¯Ø±Ø§Ø¤Ù†Úˆ Ù…ÛŒÚº Ú†Ù…Ú©ØªÛ’ Ø³ØªØ§Ø±Û’ ÚˆØ±Ø§ Ú©Ø±ÛŒÚº
        function drawStars() {
            ctx.fillStyle = '#FFD700';
            ctx.shadowColor = '#FFD700';
            ctx.shadowBlur = 8;
            for (let star of stars) {
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fill();
                star.y += star.speed;
                if (star.y > canvas.height) star.y = 0; // Ø§Ú¯Ø± Ø³ØªØ§Ø±Û Ù†ÛŒÚ†Û’ Ø¬Ø§Ø¦Û’ ØªÙˆ Ø¯ÙˆØ¨Ø§Ø±Û Ø§ÙˆÙ¾Ø±
            }
            ctx.shadowBlur = 0;
        }

        // Ú¯ÛŒÙ… Ú©Ø§ Ù…ÛŒÙ† Ù„ÙˆÙ¾
        function gameLoop() {
            if (!gameStarted) return; // Ø§Ú¯Ø± Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ Ù†ÛÛŒÚº ÛÙˆØ¦ÛŒ ØªÙˆ Ù„ÙˆÙ¾ Ù†Û Ú†Ù„Û’

            ctx.clearRect(0, 0, canvas.width, canvas.height); // Ú©ÛŒÙ†ÙˆØ³ ØµØ§Ù Ú©Ø±ÛŒÚº

            if (gameOver) {
                drawStars(); // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ù¾Ø± Ø³ØªØ§Ø±Û’ Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº
                finalScoreElement.textContent = score; // Ø§Ø³Ú©ÙˆØ± Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº
                gameOverScreen.style.display = 'flex'; // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø§Ø³Ú©Ø±ÛŒÙ† Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº
                
                // Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø³Ø§Ø¤Ù†Úˆ ØµØ±Ù Ø§ÛŒÚ© Ø¨Ø§Ø± Ú†Ù„Ø§Ø¦ÛŒÚº
                if (!gameOverSoundPlayed) {
                    pauseBackgroundMusic();
                    gameOverSound.play().then(() => {
                        gameOverSoundPlayed = true;
                    }).catch(e => {});
                }
                
                frameCount++;
                requestAnimationFrame(gameLoop); // Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¬Ø§Ø±ÛŒ Ø±Ú©Ú¾ÛŒÚº
                return;
            }

            // Ù†Ø§Ø±Ù…Ù„ Ú¯ÛŒÙ… Ù¾Ù„Û’
            drawStars(); // Ø³ØªØ§Ø±Û’ ÚˆØ±Ø§ Ú©Ø±ÛŒÚº

            birdVelocity += gravity; // Ø¨Ø±Úˆ Ù¾Ø± Ú¯Ø±ÛŒÙˆÛŒÙ¹ÛŒ Ù„Ú¯Ø§Ø¦ÛŒÚº
            birdY += birdVelocity;  // Ø¨Ø±Úˆ Ú©ÛŒ Ù¾ÙˆØ²ÛŒØ´Ù† Ø§Ù¾ ÚˆÛŒÙ¹
            rotation = Math.min(birdVelocity / 100, 0.4); // Ø¨Ø±Úˆ Ú©Ø§ Ú¯Ú¾ÙˆÙ…Ù†Ø§ Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚº

            // Ø¨Ø±Úˆ ÚˆØ±Ø§ Ú©Ø±ÛŒÚº
            ctx.save();
            ctx.translate(birdX, birdY);
            ctx.rotate(rotation); // Ø¨Ø±Úˆ Ú©Ùˆ Ú¯Ú¾Ù…Ø§Ø¦ÛŒÚº
            ctx.shadowColor = '#FFB6C1';
            ctx.shadowBlur = 15;
            ctx.beginPath();
            ctx.arc(0, 0, bird.radius, 0, Math.PI * 2);
            ctx.clip();
            ctx.drawImage(birdImg, -bird.width / 2, -bird.height / 2, bird.width, bird.height);
            ctx.restore();
            ctx.shadowBlur = 0;

            // Ù†Ø¦Û’ Ù¾Ø§Ø¦Ù¾ Ø¨Ù†Ø§Ø¦ÛŒÚº
            if (frameCount % pipeFrequency === 0) {
                createPipe();
            }

            // Ù¾Ø§Ø¦Ù¾Ø³ Ø§Ù¾ ÚˆÛŒÙ¹ Ø§ÙˆØ± ÚˆØ±Ø§ Ú©Ø±ÛŒÚº
            for (let i = pipes.length - 1; i >= 0; i--) {
                pipes[i].x -= pipeSpeed; // Ù¾Ø§Ø¦Ù¾ Ú©Ùˆ Ø¨Ø§Ø¦ÛŒÚº ÛÙ¹Ø§Ø¦ÛŒÚº
                drawPipe(pipes[i].x, pipes[i].topHeight, pipes[i].bottomY);

                // Ø§Ø³Ú©ÙˆØ± Ø¨Ú‘Ú¾Ø§Ø¦ÛŒÚº Ø§Ú¯Ø± Ø¨Ø±Úˆ Ù¾Ø§Ø¦Ù¾ Ù¾Ø§Ø³ Ú©Ø±Û’
                if (!pipes[i].scored && pipes[i].x + pipeWidth < birdX) {
                    score++;
                    pipes[i].scored = true;
                    pipeSpeed += 0.03; // Ø±ÙØªØ§Ø± ÛÙ„Ú©ÛŒ Ø¨Ú‘Ú¾Ø§Ø¦ÛŒÚº
                }

                // Ù¾Ø§Ø¦Ù¾ Ø§Ø³Ú©Ø±ÛŒÙ† Ø³Û’ Ø¨Ø§ÛØ± Ø¬Ø§Ø¦Û’ ØªÙˆ ÛÙ¹Ø§Ø¦ÛŒÚº
                if (pipes[i].x + pipeWidth < 0) {
                    pipes.splice(i, 1);
                }
            }

            // ØªØµØ§Ø¯Ù… Ú†ÛŒÚ© Ú©Ø±ÛŒÚº
            if (checkCollision()) {
                gameOver = true;
            }

            // Ø§Ø³Ú©ÙˆØ± Ø¯Ú©Ú¾Ø§Ø¦ÛŒÚº
            ctx.fillStyle = '#FF1493';
            ctx.shadowColor = '#FFB6C1';
            ctx.shadowBlur = 15;
            ctx.font = 'bold 28px Arial';
            ctx.fillText(`Score: ${score} ğŸ’–â­`, 8, 35);
            ctx.shadowBlur = 0;

            frameCount++;
            requestAnimationFrame(gameLoop); // Ø§Ú¯Ù„Ø§ ÙØ±ÛŒÙ…
        }

        // Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº Ø¬Ø¨ Ø¨Ø±Úˆ Ú©ÛŒ ØªØµÙˆÛŒØ± Ù„ÙˆÚˆ ÛÙˆ
        birdImg.onload = () => {
            initStars();
        };
    </script>
</body>
</html>